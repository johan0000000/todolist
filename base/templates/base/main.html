<!DOCTYPE html>
<html lang="fa">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>MySite</title>

    {% load static %}
    <link rel="stylesheet" href="{% static 'css/style.css' %}?{% now 'U' %}">

    {% block extra_css %}{% endblock %}
</head>
<body>

    {% include 'base/navbar.html' %}

    {% if messages %}
    <ul class="messages">
        {% for message in messages %}
        <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
        {% endfor %}
    </ul>
    {% endif %}

    {% block content %}{% endblock content %}

    {% block scripts %}
    <script>
      document.addEventListener("DOMContentLoaded", function() {
        const messages = document.querySelectorAll(".messages li");
        if (messages.length === 0) return;

        messages.forEach((msg) => {
          setTimeout(() => {
            msg.style.opacity = '0';
            msg.style.transform = 'translateY(-10px)';
          }, 2600);

          setTimeout(() => {
            if (msg.parentNode) {
              msg.parentNode.removeChild(msg);
            }
          }, 3000);
        });
      });
    </script>
    {% endblock %}

</body>
</html>
